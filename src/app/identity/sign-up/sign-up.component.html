<!-- https://github.com/nauvalazhar/bootstrap-5-login-page -->

<div class="card-body p-5">
  <h3 class="mb-4">Registration</h3>

  <form
    [formGroup]="signUpForm"
    (submit)="onSubmit()"
  >
    <div class="mb-3">
      <label
        class="mb-2 text-muted"
        for="user-name"
        >User name</label
      >

      <input
        id="user-name"
        class="form-control"
        formControlName="userName"
        type="text"
      />

      <ng-container *ngIf="signUpForm.userName | errorsOnDirtyOrTouched as errors">
        <small
          class="text-danger"
          *ngIf="errors.required"
        >
          User name required.
        </small>

        <small
          class="text-danger"
          *ngIf="errors.minlength"
        >
          Minimal length is {{ errors.minlength.requiredLength }}.
        </small>

        <small
          class="text-danger"
          *ngIf="errors.maxlength"
        >
          Maximal length is {{ errors.maxlength.requiredLength }}.
        </small>
      </ng-container>
    </div>

    <div class="mb-3">
      <div class="mb-2 w-100">
        <label
          class="text-muted"
          for="password"
          >Password</label
        >
      </div>

      <input
        id="password"
        formControlName="password"
        type="password"
        class="form-control"
        (input)="signUpForm.validateRepeatPassword()"
      />

      <ng-container *ngIf="signUpForm.password | errorsOnDirtyOrTouched as errors">
        <small
          class="text-danger"
          *ngIf="errors.required"
        >
          Password required.
        </small>

        <small
          class="text-danger"
          *ngIf="errors.minlength"
        >
          Minimal length is {{ errors.minlength.requiredLength }}.
        </small>

        <small
          class="text-danger"
          *ngIf="errors.maxlength"
        >
          Maximal length is {{ errors.maxlength.requiredLength }}.
        </small>
      </ng-container>
    </div>

    <div class="mb-3">
      <div class="mb-2 w-100">
        <label
          class="text-muted"
          for="repeat-password"
          >Repeat password</label
        >
      </div>

      <input
        id="repeat-password"
        formControlName="repeatPassword"
        type="password"
        class="form-control"
      />

      <ng-container *ngIf="signUpForm.repeatPassword | errorsOnDirtyOrTouched as errors">
        <small
          class="text-danger"
          *ngIf="errors.matching"
        >
          Passwords don't match.
        </small>
      </ng-container>
    </div>

    <div class="d-flex align-items-center">
      <button
        type="submit"
        class="btn btn-primary ms-auto"
        [disabled]="signUpForm.invalid"
      >
        Sign up
      </button>
    </div>
  </form>
</div>

<div class="card-footer py-3 border-0">
  <div class="text-center">
    <a
      routerLink="/app/identity/sign-in"
      class="text-dark"
      >Sign in</a
    >
  </div>
</div>
